"use strict";var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};var i=function(t){var i=t.infiniteScrollRef,o=t.tag,l=t.infiniteDirection,c=t.onInfiniteScroll,u=t.windowParent,f=t.children,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["infiniteScrollRef","tag","infiniteDirection","onInfiniteScroll","windowParent","children"]),s=e.useRef(null),d=i||s,p=e.useCallback((function(){if(u)return window.scrollY+window.innerHeight===document.documentElement.scrollHeight;var e=d.current.getBoundingClientRect();return"x"===l?e.width+d.current.scrollLeft+10>=d.current.scrollWidth:e.height+d.current.scrollTop>=d.current.scrollHeight}),[u,l,d]),w=e.useCallback((function(){p()&&c&&c()}),[p,c]);return e.useEffect((function(){var e=u?window:d.current;return e.addEventListener("scroll",w),function(){e.removeEventListener("scroll",w)}}),[w,d,u]),n.default.createElement(o,r({ref:d},a),f)};i.defaultProps={tag:"div",windowParent:!1},module.exports=i;
