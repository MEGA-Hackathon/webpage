import e from"clsx";import t,{useState as n,useEffect as o,useRef as r,useCallback as a,useMemo as c,useContext as i}from"react";import l from"react-dom";import{usePopper as s}from"react-popper";var u=function(){return u=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)};function p(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}var f=function(r){var a=p(r,[]),c=n(!1),i=c[0],l=c[1],s=e("ripple-wave",i&&"active");return o((function(){var e=setTimeout((function(){l(!0)}),50);return function(){clearTimeout(e)}}),[]),t.createElement("div",u({className:s},a))},m=function(a){var c=a.className,i=a.rippleTag,l=a.rippleCentered,s=a.rippleDuration,m=a.rippleUnbound,d=a.rippleRadius,g=a.rippleColor,v=a.children,b=a.onClick,h=a.rippleRef,y=p(a,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onClick","rippleRef"]),C=r(null),E=h||C,N=[0,0,0],w=["primary","secondary","success","danger","warning","info","light","dark"],k=n([]),T=k[0],M=k[1],I=n(!1),L=I[0],O=I[1],x=e("ripple","ripple-surface",m&&"ripple-surface-unbound",L&&"ripple-surface-".concat(g),c),P=function(){if(w.find((function(e){return e===(null==g?void 0:g.toLowerCase())})))return O(!0);var e=R(g).join(","),t="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(e));return"radial-gradient(circle, ".concat(t,")")},R=function(e){return"transparent"===e.toLowerCase()?N:"#"===e[0]?function(e){return e.length<7&&(e="#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3])),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}(e):(-1===e.indexOf("rgb")&&(e=function(e){var t=document.body.appendChild(document.createElement("fictum")),n="rgb(1, 2, 3)";return t.style.color=n,t.style.color!==n?N:(t.style.color=e,t.style.color===n||""===t.style.color?N:(e=getComputedStyle(t).color,document.body.removeChild(t),e))}(e)),0===e.indexOf("rgb")?function(e){return(e=e.match(/[.\d]+/g).map((function(e){return+Number(e)}))).length=3,e}(e):N)},D=function(e){var t=E.current.getBoundingClientRect(),n=e.clientX-t.left,o=e.clientY-t.top,r=t.height,a=t.width,c={delay:s&&.5*s,duration:s&&s-.5*s},i=function(e){var t=e.offsetX,n=e.offsetY,o=e.height,r=e.width,a=n<=o/2,c=t<=r/2,i=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},l=n===o/2&&t===r/2,s=!0===a&&!1===c,u=!0===a&&!0===c,p=!1===a&&!0===c,f=!1===a&&!1===c,m={topLeft:i(t,n),topRight:i(r-t,n),bottomLeft:i(t,o-n),bottomRight:i(r-t,o-n)},d=0;return l||f?d=m.topLeft:p?d=m.topRight:u?d=m.bottomRight:s&&(d=m.bottomLeft),2*d}({offsetX:l?r/2:n,offsetY:l?a/2:o,height:r,width:a}),p=d||i/2,f={left:"".concat(l?a/2-p:n-p,"px"),top:"".concat(l?r/2-p:o-p,"px"),height:"".concat(d?2*d:i,"px"),width:"".concat(d?2*d:i,"px"),transitionDelay:"0s, ".concat(c.delay,"ms"),transitionDuration:"".concat(s,"ms, ").concat(c.duration,"ms")};return L?f:u(u({},f),{backgroundImage:"".concat(P())})};return o((function(){var e=setTimeout((function(){T.length>0&&M(T.splice(1,T.length-1))}),s);return function(){clearTimeout(e)}}),[s,T]),t.createElement(i,u({className:x,onClick:function(e){return function(e){var t=D(e),n=T.concat(t);M(n),b&&b(e)}(e)},ref:E},y),v,T.map((function(e,n){return t.createElement(f,{key:n,style:e})})))};m.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var d=t.forwardRef((function(o,r){var a,c=o.className,i=o.color,l=o.outline,s=o.children,f=o.rounded,d=o.disabled,g=o.floating,v=o.size,b=o.href,h=o.block,y=o.active,C=o.toggle,E=o.noRipple,N=o.tag,w=p(o,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),k=n(y||!1),T=k[0],M=k[1],I=i&&["light","link"].includes(i)||l?"dark":"light";a="none"!==i?l?i?"btn-outline-".concat(i):"btn-outline-primary":i?"btn-".concat(i):"btn-primary":"";var L=e("none"!==i&&"btn",a,f&&"btn-rounded",g&&"btn-floating",v&&"btn-".concat(v),"".concat((b||"button"!==N)&&d?"disabled":""),h&&"btn-block",T&&"active",c);return b&&"a"!==N&&(N="a"),["hr","img","input"].includes(N)||E?t.createElement(N,u({className:L,onClick:C?function(){M(!T)}:void 0,disabled:!(!d||"button"!==N)||void 0,href:b,ref:r},w),s):t.createElement(m,u({rippleTag:N,rippleColor:I,className:L,onClick:C?function(){M(!T)}:void 0,disabled:!(!d||"button"!==N)||void 0,href:b,ref:r},w),s)}));d.defaultProps={tag:"button",role:"button",color:"primary"};var g=function(r){var c=r.className,i=r.children,f=r.disableMouseDown,m=r.tag,d=r.tooltipTag,g=r.options,v=r.placement,b=r.title,h=r.wrapperProps,y=r.wrapperClass,C=r.onMouseEnter,E=r.onMouseLeave,N=p(r,["className","children","disableMouseDown","tag","tooltipTag","options","placement","title","wrapperProps","wrapperClass","onMouseEnter","onMouseLeave"]),w=n(null),k=w[0],T=w[1],M=n(null),I=M[0],L=M[1],O=n(!1),x=O[0],P=O[1],R=n(!1),D=R[0],S=R[1],j=n(!1),z=j[0],A=j[1],F=n(!1),B=F[0],X=F[1],Y=e("tooltip",z&&"show","fade","bs-tooltip-".concat(v),c),H=s(k,I,u({placement:v},g)),U=H.styles,q=H.attributes;o((function(){var e,t;return x||D?(X(!0),e=setTimeout((function(){A(!0)}),4)):(A(!1),t=setTimeout((function(){X(!1)}),300)),function(){clearTimeout(e),clearTimeout(t)}}),[x,D]);var G=a((function(e){e.target===k?S(!0):S(!1)}),[k]);return o((function(){if(!f)return document.addEventListener("mousedown",G),function(){document.removeEventListener("mousedown",G)}}),[G,f]),t.createElement(t.Fragment,null,t.createElement(m,u({className:y,onMouseEnter:function(e){P(!0),C&&C(e)},onMouseLeave:function(e){P(!1),E&&E(e)},ref:T},h),i),B&&l.createPortal(t.createElement(d,u({ref:L,className:Y,style:U.popper},q.popper,{role:"tooltip"},N),t.createElement("div",{className:"tooltip-inner"},b)),document.body))};g.defaultProps={tag:d,tooltipTag:"div",placement:"top"};var v=t.createContext({activeItem:0,dynamic:!1,dynamicStyle:{color:"",icon:""},setDynamicStyle:null,setActiveItem:null,hoveredItem:0,setHoveredItem:null}),b=function(n){var o=n.className,r=n.icon,a=n.fab,c=n.fas,i=n.fal,l=n.far,s=n.flag,f=n.spin,m=n.fixed,d=n.flip,g=n.list,v=n.size,b=n.pull,h=n.pulse,y=n.color,C=n.border,E=n.rotate,N=n.inverse,w=n.stack,k=n.children,T=p(n,["className","icon","fab","fas","fal","far","flag","spin","fixed","flip","list","size","pull","pulse","color","border","rotate","inverse","stack","children"]),M=e(s?"flag":a?"fab":c?"fas":l?"far":i?"fal":"fa",s?"flag-".concat(s):r&&"fa-".concat(r),v&&"fa-".concat(v),y&&"text-".concat(y),C&&"fa-border",E&&"fa-rotate-".concat(E),b&&"fa-pull-".concat(b),f&&"fa-spin",g&&"fa-li",m&&"fa-fw",h&&"fa-pulse",N&&"fa-inverse",d&&"fa-flip-".concat(d),w&&"fa-stack-".concat(w),o);return t.createElement("i",u({className:M},T),k)},h=function(r){var i=r.className,f=r.btnClassName,m=r.btnChildren,d=r.children,g=r.tag,v=r.popperTag,b=r.isOpen,h=r.placement,y=r.dismiss,C=r.options,E=r.poperStyle,N=r.onClick,w=p(r,["className","btnClassName","btnChildren","children","tag","popperTag","isOpen","placement","dismiss","options","poperStyle","onClick"]),k=n(),T=k[0],M=k[1],I=n(),L=I[0],O=I[1],x=s(T,L,u({placement:h},C)),P=x.styles,R=x.attributes,D=n(b),S=D[0],j=D[1],z=n(!1),A=z[0],F=z[1],B=n(!1),X=B[0],Y=B[1],H=n(!1),U=H[0],q=H[1],G=e("popover fade",X&&"show","bs-popover-".concat("left"===h?"start":"right"===h?"end":h),i);o((function(){b||j(!1)}),[b]);var J=a((function(e){U&&L&&null!==L&&S&&T&&null!==T&&(T.contains(e.target)||j(!1))}),[U,S,L,T]);return c((function(){var e;return S?(F(!0),setTimeout((function(){Y(!0)}),150)):(e=setTimeout((function(){F(!1)}),150),Y(!1)),function(){clearTimeout(e)}}),[S]),o((function(){return S&&document.addEventListener("mousedown",J),function(){document.removeEventListener("mousedown",J)}}),[J,S]),t.createElement(t.Fragment,null,t.createElement(g,u({onClick:function(e){y?(q(!0),j(!0)):j(!S),N&&N(e)},className:f},w,{ref:M}),m),A&&l.createPortal(t.createElement(v,u({className:G,ref:O,style:u(u({},P.popper),E)},R.popper,{"data-testid":"popoverTestID"}),d),document.body))};h.defaultProps={tag:d,popperTag:"div",placement:"bottom"};var y=function(n){var o=n.className,r=n.children,a=n.tag,c=p(n,["className","children","tag"]),i=e("popover-body",o);return t.createElement(a,u({className:i},c),r)};y.defaultProps={tag:"div"};var C=t.forwardRef((function(n,r){var a=n.className,c=n.color,l=n.itemId,s=n.iconClassName,f=n.insertAfter,m=n.insertBefore,d=n.icon,C=n.onClick,E=n.onMouseEnter,N=n.onMouseLeave,w=n.popover,k=n.size,T=n.title,M=n.tag,I=p(n,["className","color","itemId","iconClassName","insertAfter","insertBefore","icon","onClick","onMouseEnter","onMouseLeave","popover","size","title","tag"]),L=i(v),O=L.activeItem,x=L.setActiveItem,P=L.hoveredItem,R=L.setHoveredItem,D=L.dynamic,S=L.dynamicStyle,j=L.setDynamicStyle,z=!P&&O&&O>=l||P>=l,A=e(z&&"active",!c&&"text-primary",s);o((function(){D&&((P||O)===l&&j({color:c,icon:d}))}),[O,l,c,d,D,j,P]);var F=t.createElement(t.Fragment,null,t.createElement(M,u({className:a,ref:r},I,{onMouseEnter:function(e){x&&R(l),E&&E(e)},onMouseLeave:function(e){x&&R(0),N&&N(e)},onClick:function(e){x&&x(l),C&&C(e)}}),m,t.createElement(b,{far:!z,fas:z,icon:S.icon?S.icon:d,size:k,className:A,style:{color:S.color?S.color:c&&c}}),f));return t.createElement(t.Fragment,null,T?t.createElement(g,{tag:"a",title:T},F):w?t.createElement(h,{tag:"a",btnChildren:F},t.createElement(y,null,w)):F)}));C.defaultProps={tag:"li",size:"sm"};export{C as default};
