"use strict";var t=require("clsx"),e=require("react");function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=n(t),i=n(e),r=function(){return r=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};var o=function(t){var n=t.animation,o=t.animationRef,l=t.delay,c=t.infinite,u=t.duration,s=t.enableTarget,f=t.target,m=t.repeatOnScroll,d=t.reset,y=t.setTarget,p=t.start,g=t.className,b=t.tag,v=t.children,O=t.style,E=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]])}return n}(t,["animation","animationRef","delay","infinite","duration","enableTarget","target","repeatOnScroll","reset","setTarget","start","className","tag","children","style"]),h=e.useState(f),w=h[0],C=h[1],S=e.useState(!1),T=S[0],j=S[1],D=e.useRef(!0),N=a.default(w&&"animation",w&&n,g),I=e.useRef(null),P=o||I,R=function(){C(!w)},k=e.useCallback((function(){if(P.current){var t=P.current.getBoundingClientRect().top+document.body.scrollTop,e=P.current.offsetHeight,n=t<=window.innerHeight&&t+e>=0;n&&D.current?(D.current=!1,l?setTimeout((function(){C(!0),j(!0)}),l):(C(!0),j(!0))):!n&&m&&(j(!1),D.current=!0)}}),[P,m,l]);return e.useEffect((function(){return"onScroll"===p&&window.addEventListener("scroll",k),function(){window.removeEventListener("scroll",k)}}),[k,p]),e.useEffect((function(){C(f)}),[f]),e.useEffect((function(){"onLoad"===p&&C(!0)}),[p]),e.useEffect((function(){w&&!c&&d&&setTimeout((function(){C(!w),s&&y(!1)}),u)}),[w,u,s,y,c,d]),i.default.createElement(i.default.Fragment,null,"onClick"===p&&!1===s&&i.default.createElement(b,r({onClick:R,className:N,ref:P},E,{style:r(r({},O),{animationDuration:"".concat(u,"ms"),animationIterationCount:c?"infinite":null,animationDelay:l?"".concat(l,"ms"):null})}),v),"onHover"===p&&!1===s&&i.default.createElement(b,r({onMouseEnter:R,className:N,ref:P},E,{style:r(r({},O),{animationDuration:"".concat(u,"ms"),animationIterationCount:c?"infinite":null,animationDelay:l?"".concat(l,"ms"):null})}),v),("onLoad"===p||!0===s)&&i.default.createElement(b,r({className:N,ref:P},E,{style:r(r({},O),{animationDuration:"".concat(u,"ms"),animationIterationCount:c?"infinite":null,animationDelay:l?"".concat(l,"ms"):null})}),v),"onScroll"===p&&i.default.createElement(b,r({className:N,ref:P},E,{style:r(r({},O),{animationDuration:"".concat(u,"ms"),visibility:T?"visible":"hidden",animationIterationCount:c?"infinite":null})}),v))};o.defaultProps={tag:"div",start:"onClick",duration:500,reset:!1,animation:"slide-right",target:!1,enableTarget:!1,repeatOnScroll:!1,infinite:!1},module.exports=o;
