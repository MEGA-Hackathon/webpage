"use strict";var e=require("clsx"),t=require("react");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=r(e),a=r(t),i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};function l(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function o(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e}var c=a.default.createContext({activeItem:1,setActiveItem:null,stepperHeight:0,setStepperHeight:null,prevState:1,setPrevState:null,steps:[],linear:!1,visited:[],setVisited:null,noEditable:!1,vertical:!1,mobile:!1,verticalBreakpoint:!1}),u=function(e){var r=l(e,[]),o=t.useState(!1),c=o[0],u=o[1],s=n.default("ripple-wave",c&&"active");return t.useEffect((function(){var e=setTimeout((function(){u(!0)}),50);return function(){clearTimeout(e)}}),[]),a.default.createElement("div",i({className:s},r))},s=function(e){var r=e.className,o=e.rippleTag,c=e.rippleCentered,s=e.rippleDuration,p=e.rippleUnbound,f=e.rippleRadius,d=e.rippleColor,m=e.children,b=e.onClick,v=e.rippleRef,g=l(e,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onClick","rippleRef"]),h=t.useRef(null),y=v||h,E=[0,0,0],w=["primary","secondary","success","danger","warning","info","light","dark"],S=t.useState([]),k=S[0],N=S[1],C=t.useState(!1),O=C[0],R=C[1],x=n.default("ripple","ripple-surface",p&&"ripple-surface-unbound",O&&"ripple-surface-".concat(d),r),P=function(){if(w.find((function(e){return e===(null==d?void 0:d.toLowerCase())})))return R(!0);var e=j(d).join(","),t="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(e));return"radial-gradient(circle, ".concat(t,")")},j=function(e){return"transparent"===e.toLowerCase()?E:"#"===e[0]?function(e){return e.length<7&&(e="#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3])),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}(e):(-1===e.indexOf("rgb")&&(e=function(e){var t=document.body.appendChild(document.createElement("fictum")),r="rgb(1, 2, 3)";return t.style.color=r,t.style.color!==r?E:(t.style.color=e,t.style.color===r||""===t.style.color?E:(e=getComputedStyle(t).color,document.body.removeChild(t),e))}(e)),0===e.indexOf("rgb")?function(e){return(e=e.match(/[.\d]+/g).map((function(e){return+Number(e)}))).length=3,e}(e):E)},I=function(e){var t=y.current.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top,a=t.height,l=t.width,o={delay:s&&.5*s,duration:s&&s-.5*s},u=function(e){var t=e.offsetX,r=e.offsetY,n=e.height,a=e.width,i=r<=n/2,l=t<=a/2,o=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},c=r===n/2&&t===a/2,u=!0===i&&!1===l,s=!0===i&&!0===l,p=!1===i&&!0===l,f=!1===i&&!1===l,d={topLeft:o(t,r),topRight:o(a-t,r),bottomLeft:o(t,n-r),bottomRight:o(a-t,n-r)},m=0;return c||f?m=d.topLeft:p?m=d.topRight:s?m=d.bottomRight:u&&(m=d.bottomLeft),2*m}({offsetX:c?a/2:r,offsetY:c?l/2:n,height:a,width:l}),p=f||u/2,d={left:"".concat(c?l/2-p:r-p,"px"),top:"".concat(c?a/2-p:n-p,"px"),height:"".concat(f?2*f:u,"px"),width:"".concat(f?2*f:u,"px"),transitionDelay:"0s, ".concat(o.delay,"ms"),transitionDuration:"".concat(s,"ms, ").concat(o.duration,"ms")};return O?d:i(i({},d),{backgroundImage:"".concat(P())})};return t.useEffect((function(){var e=setTimeout((function(){k.length>0&&N(k.splice(1,k.length-1))}),s);return function(){clearTimeout(e)}}),[s,k]),a.default.createElement(o,i({className:x,onClick:function(e){return function(e){var t=I(e),r=k.concat(t);N(r),b&&b(e)}(e)},ref:y},g),m,k.map((function(e,t){return a.default.createElement(u,{key:t,style:e})})))};s.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var p=a.default.forwardRef((function(e,r){var o,c=e.className,u=e.color,p=e.outline,f=e.children,d=e.rounded,m=e.disabled,b=e.floating,v=e.size,g=e.href,h=e.block,y=e.active,E=e.toggle,w=e.noRipple,S=e.tag,k=l(e,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),N=t.useState(y||!1),C=N[0],O=N[1],R=u&&["light","link"].includes(u)||p?"dark":"light";o="none"!==u?p?u?"btn-outline-".concat(u):"btn-outline-primary":u?"btn-".concat(u):"btn-primary":"";var x=n.default("none"!==u&&"btn",o,d&&"btn-rounded",b&&"btn-floating",v&&"btn-".concat(v),"".concat((g||"button"!==S)&&m?"disabled":""),h&&"btn-block",C&&"active",c);return g&&"a"!==S&&(S="a"),["hr","img","input"].includes(S)||w?a.default.createElement(S,i({className:x,onClick:E?function(){O(!C)}:void 0,disabled:!(!m||"button"!==S)||void 0,href:g,ref:r},k),f):a.default.createElement(s,i({rippleTag:S,rippleColor:R,className:x,onClick:E?function(){O(!C)}:void 0,disabled:!(!m||"button"!==S)||void 0,href:g,ref:r},k),f)}));function f(e,t,r,n){r&&n[e].classList[t](r)}function d(e,t,r,n){var a=t.length,i=!0;if(e===r-1&&(i=!1),(e>=a||e<0)&&(i=!1),n&&(e>r&&(i=!1),e>r-1||e===a-1)){var l=t[r-1];Array.prototype.slice.call(l.querySelectorAll("input[required]")).every((function(e){return!0===e.checkValidity()}))||(!function(e,t){f(e,"add","stepper-invalid",t),f(e,"remove","stepper-completed",t),f(e,"add","",t),f(e,"remove","",t)}(r-1,t),i=!1)}return i}p.defaultProps={tag:"button",role:"button",color:"primary"};var m=function(e){var r=e.className,u=e.outerState,s=e.linear,f=e.formWizard,m=e.setOuterState,b=e.prevOuterState,v=e.noEditable,g=e.setPrevOuterState,h=e.mobileProgress,y=e.stepperRef,E=e.vertical,w=e.mobile,S=e.mobileBreakpoint,k=e.verticalBreakpoint,N=e.tag,C=e.children,O=l(e,["className","outerState","linear","formWizard","setOuterState","prevOuterState","noEditable","setPrevOuterState","mobileProgress","stepperRef","vertical","mobile","mobileBreakpoint","verticalBreakpoint","tag","children"]),R=t.useState(1),x=R[0],P=R[1],j=t.useState(0),I=j[0],L=j[1],T=t.useState(0),B=T[0],z=T[1],W=t.useState([]),q=W[0],A=W[1],D=t.useState([]),H=D[0],X=D[1],M=t.useState(!!k||E),V=M[0],Y=M[1],U=t.useState(S?S>window.innerWidth:w),F=U[0],K=U[1],G=n.default("stepper",V?"stepper-vertical":F?"stepper-mobile":"stepper-horizontal",h&&"stepper-progress-bar",r);t.useEffect((function(){k<window.innerWidth&&Y(!1)}),[k]);var J=t.useRef(null),Q=y||J,Z=t.useCallback((function(){var e=k<window.innerWidth,t=k>window.innerWidth,r=S>window.innerWidth;e&&(K(!1),Y(!1)),t&&!r&&(K(!1),Y(!0)),r&&(K(!0),Y(!1))}),[S,k]);t.useEffect((function(){if(S||k)return window.addEventListener("resize",Z),function(){window.removeEventListener("resize",Z)}}),[S,k,Z]),t.useEffect((function(){var e=Q.current.querySelectorAll(".stepper-step");A(e)}),[Q]);return a.default.createElement(c.Provider,{value:{activeItem:u||x,setActiveItem:m||P,stepperHeight:B,setStepperHeight:z,prevState:b||I,setPrevState:g||L,steps:q,linear:s,visited:H,setVisited:X,noEditable:v,vertical:V,mobile:F,verticalBreakpoint:!!k}},a.default.createElement(a.default.Fragment,null,a.default.createElement(N,i({className:G,ref:Q},O,{style:{height:!V&&"".concat(B,"px")}}),F&&a.default.createElement("div",{className:"stepper-mobile-head bg-light"},"step ",x," of ",q.length),C,F&&a.default.createElement("div",{className:"stepper-mobile-footer bg-light"},a.default.createElement("div",{className:"stepper-back-btn"},a.default.createElement("button",{className:"btn btn-link",onClick:function(){1!==x&&L(x),x>=2&&P(x-1)}},a.default.createElement("i",{className:"fas fa-chevron-left"}),"BACK")),h&&a.default.createElement("div",{className:"stepper-mobile-progress gray-500"},a.default.createElement("div",{className:"stepper-mobile-progress-bar bg-primary",style:{width:"".concat(x/q.length*100,"%")}})),a.default.createElement("div",{className:"stepper-next-btn"},a.default.createElement("button",{className:"btn btn-link ripple-surface",onClick:function(){x!==q.length&&L(x),x<=q.length-1&&P(x+1)}},"NEXT",a.default.createElement("i",{className:"fas fa-chevron-right"}))))),f&&a.default.createElement("div",{className:"d-flex justify-content-center px-3"},a.default.createElement(p,{onClick:function(){1!==x&&L(x),x>=2&&P(x-1)},className:"btn btn-primary w-100 me-2 ripple-surface"},"Previous step"),a.default.createElement(p,{onClick:function(){if(x!==q.length){if(s)if(H.includes(x)||X(o(o([],H),[x])),!d(x,q,x,s))return;v&&(H.includes(x)||X(o(o([],H),[x])),H.includes(x+1))||(L(x),P(x+1))}},className:"btn btn-primary w-100"},"Next step"))))};m.defaultProps={tag:"ul"},module.exports=m;
