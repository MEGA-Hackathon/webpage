import e from"clsx";import t,{useRef as n,useState as a,useEffect as o,useCallback as i,useContext as r}from"react";import c from"react-dom";import{usePopper as l}from"react-popper";var u=function(){return u=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u.apply(this,arguments)};function m(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n}var s=function(r){var c,l=r.className,s=r.size,d=r.contrast,p=r.value,f=r.defaultValue,v=r.id,h=r.labelId,b=r.labelClass,g=r.wrapperClass,x=r.wrapperStyle,k=r.wrapperTag,M=r.label,y=r.onChange,E=r.children,N=r.labelRef,w=r.labelStyle,C=r.inputRef,I=r.textarea,P=r.validation,A=r.invalid,L=r.validationTooltip,T=r.btnClasses,H=r.btnOnClick,R=r.btnRef,O=r.type,j=r.onBlur,V=r.readonly,D=r.btn,S=r.btnType,z=m(r,["className","size","contrast","value","defaultValue","id","labelId","labelClass","wrapperClass","wrapperStyle","wrapperTag","label","onChange","children","labelRef","labelStyle","inputRef","textarea","validation","invalid","validationTooltip","btnClasses","btnOnClick","btnRef","type","onBlur","readonly","btn","btnType"]),W=n(null),B=n(null),F=n(null),U=n(null),Y=N||W,X=R||B,q=C||(I?U:F),$=a(p||f),Z=$[0],G=$[1],J=a(0),K=J[0],Q=J[1],_=a(void 0!==p&&p.length>0||(void 0!==f&&f.length)>0),ee=_[0],te=_[1],ne=e("form-outline",d&&"form-white",g),ae=e("form-control",ee&&"active","date"===O&&"active",s&&"form-control-".concat(s),l),oe=e("form-label",b),ie=e(P&&(A?"invalid-".concat(L?"tooltip":"feedback"):"valid-".concat(L?"tooltip":"feedback")));o((function(){var e;Y.current&&0!==(null===(e=Y.current)||void 0===e?void 0:e.clientWidth)&&Q(.8*Y.current.clientWidth+8)}),[Y,null===(c=Y.current)||void 0===c?void 0:c.clientWidth]);var re=function(){Y.current&&Q(.8*Y.current.clientWidth+8)};o((function(){void 0!==p&&(p.length>0?te(!0):te(!1))}),[p]),o((function(){void 0!==f&&(f.length>0?te(!0):te(!1))}),[f]);var ce=function(e){G(e.currentTarget.value),y&&y(e)},le=i((function(e){void 0!==Z&&Z.length>0||void 0!==p&&p.length>0?te(!0):te(!1),j&&j(e)}),[Z,p,j]);return t.createElement(k,{className:ne,style:u({},x)},I?t.createElement("textarea",u({readOnly:V,className:ae,onBlur:le,onChange:ce,onFocus:re,defaultValue:f,value:p,id:v,ref:q},z)):t.createElement("input",u({type:O,readOnly:V,className:ae,onBlur:le,onChange:ce,onFocus:re,value:p,defaultValue:f,id:v,ref:q},z)),M&&t.createElement("label",{className:oe,style:w,id:h,htmlFor:v,ref:Y},M),P&&t.createElement("div",{className:ie},P),t.createElement("div",{className:"form-notch"},t.createElement("div",{className:"form-notch-leading"}),t.createElement("div",{className:"form-notch-middle",style:{width:K}}),t.createElement("div",{className:"form-notch-trailing"})),D&&t.createElement("button",{ref:X,type:S,className:T,onClick:H},D),E)};s.defaultProps={wrapperTag:"div",btnType:"button",readonly:!1};var d=function(n){var i=m(n,[]),r=a(!1),c=r[0],l=r[1],s=e("ripple-wave",c&&"active");return o((function(){var e=setTimeout((function(){l(!0)}),50);return function(){clearTimeout(e)}}),[]),t.createElement("div",u({className:s},i))},p=function(i){var r=i.className,c=i.rippleTag,l=i.rippleCentered,s=i.rippleDuration,p=i.rippleUnbound,f=i.rippleRadius,v=i.rippleColor,h=i.children,b=i.onClick,g=i.rippleRef,x=m(i,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onClick","rippleRef"]),k=n(null),M=g||k,y=[0,0,0],E=["primary","secondary","success","danger","warning","info","light","dark"],N=a([]),w=N[0],C=N[1],I=a(!1),P=I[0],A=I[1],L=e("ripple","ripple-surface",p&&"ripple-surface-unbound",P&&"ripple-surface-".concat(v),r),T=function(){if(E.find((function(e){return e===(null==v?void 0:v.toLowerCase())})))return A(!0);var e=H(v).join(","),t="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(e));return"radial-gradient(circle, ".concat(t,")")},H=function(e){return"transparent"===e.toLowerCase()?y:"#"===e[0]?function(e){return e.length<7&&(e="#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3])),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}(e):(-1===e.indexOf("rgb")&&(e=function(e){var t=document.body.appendChild(document.createElement("fictum")),n="rgb(1, 2, 3)";return t.style.color=n,t.style.color!==n?y:(t.style.color=e,t.style.color===n||""===t.style.color?y:(e=getComputedStyle(t).color,document.body.removeChild(t),e))}(e)),0===e.indexOf("rgb")?function(e){return(e=e.match(/[.\d]+/g).map((function(e){return+Number(e)}))).length=3,e}(e):y)},R=function(e){var t=M.current.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top,o=t.height,i=t.width,r={delay:s&&.5*s,duration:s&&s-.5*s},c=function(e){var t=e.offsetX,n=e.offsetY,a=e.height,o=e.width,i=n<=a/2,r=t<=o/2,c=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},l=n===a/2&&t===o/2,u=!0===i&&!1===r,m=!0===i&&!0===r,s=!1===i&&!0===r,d=!1===i&&!1===r,p={topLeft:c(t,n),topRight:c(o-t,n),bottomLeft:c(t,a-n),bottomRight:c(o-t,a-n)},f=0;return l||d?f=p.topLeft:s?f=p.topRight:m?f=p.bottomRight:u&&(f=p.bottomLeft),2*f}({offsetX:l?o/2:n,offsetY:l?i/2:a,height:o,width:i}),m=f||c/2,d={left:"".concat(l?i/2-m:n-m,"px"),top:"".concat(l?o/2-m:a-m,"px"),height:"".concat(f?2*f:c,"px"),width:"".concat(f?2*f:c,"px"),transitionDelay:"0s, ".concat(r.delay,"ms"),transitionDuration:"".concat(s,"ms, ").concat(r.duration,"ms")};return P?d:u(u({},d),{backgroundImage:"".concat(T())})};return o((function(){var e=setTimeout((function(){w.length>0&&C(w.splice(1,w.length-1))}),s);return function(){clearTimeout(e)}}),[s,w]),t.createElement(c,u({className:L,onClick:function(e){return function(e){var t=R(e),n=w.concat(t);C(n),b&&b(e)}(e)},ref:M},x),h,w.map((function(e,n){return t.createElement(d,{key:n,style:e})})))};p.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var f=t.forwardRef((function(n,o){var i,r=n.className,c=n.color,l=n.outline,s=n.children,d=n.rounded,f=n.disabled,v=n.floating,h=n.size,b=n.href,g=n.block,x=n.active,k=n.toggle,M=n.noRipple,y=n.tag,E=m(n,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),N=a(x||!1),w=N[0],C=N[1],I=c&&["light","link"].includes(c)||l?"dark":"light";i="none"!==c?l?c?"btn-outline-".concat(c):"btn-outline-primary":c?"btn-".concat(c):"btn-primary":"";var P=e("none"!==c&&"btn",i,d&&"btn-rounded",v&&"btn-floating",h&&"btn-".concat(h),"".concat((b||"button"!==y)&&f?"disabled":""),g&&"btn-block",w&&"active",r);return b&&"a"!==y&&(y="a"),["hr","img","input"].includes(y)||M?t.createElement(y,u({className:P,onClick:k?function(){C(!w)}:void 0,disabled:!(!f||"button"!==y)||void 0,href:b,ref:o},E),s):t.createElement(p,u({rippleTag:y,rippleColor:I,className:P,onClick:k?function(){C(!w)}:void 0,disabled:!(!f||"button"!==y)||void 0,href:b,ref:o},E),s)}));f.defaultProps={tag:"button",role:"button",color:"primary"};var v=function(n){var a=n.className,o=n.icon,i=n.fab,r=n.fas,c=n.fal,l=n.far,s=n.flag,d=n.spin,p=n.fixed,f=n.flip,v=n.list,h=n.size,b=n.pull,g=n.pulse,x=n.color,k=n.border,M=n.rotate,y=n.inverse,E=n.stack,N=n.children,w=m(n,["className","icon","fab","fas","fal","far","flag","spin","fixed","flip","list","size","pull","pulse","color","border","rotate","inverse","stack","children"]),C=e(s?"flag":i?"fab":r?"fas":l?"far":c?"fal":"fa",s?"flag-".concat(s):o&&"fa-".concat(o),h&&"fa-".concat(h),x&&"text-".concat(x),k&&"fa-border",M&&"fa-rotate-".concat(M),b&&"fa-pull-".concat(b),d&&"fa-spin",v&&"fa-li",p&&"fa-fw",g&&"fa-pulse",y&&"fa-inverse",f&&"fa-flip-".concat(f),E&&"fa-stack-".concat(E),a);return t.createElement("i",u({className:C},w),N)},h=t.createContext({isPickerOpened:!1,setIsPickerOpened:null,setInputValue:null,setActiveHour:null,setActiveMinute:null,setPeriod:null,setMode:null,setHandAnimation:null,setMinuteAngle:null,setHourAngle:null,submitLabel:"",clearLabel:"",cancelLabel:"",activeHour:12,activeMinute:12,format:"12h",period:"",defaultValue:"",minHour:0,maxHour:23,minPeriod:"",maxPeriod:"",mode:"hours",handAnimation:!1,maxMinute:59,minMinute:0,minuteAngle:360,hourAngle:360,inline:!1,increment:!1}),b=function(e){var t=e.split(":"),n=t[0],a=t[1].split(" ")[1],o=t[1].split(" ")[0];return{hour:parseInt(n),minute:parseInt(o),defaultPeriod:a}},g=function(e,t){return("24h"===t?/^([01]\d|2[0-3])(:[0-5]\d)$/:/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/).test(e)},x=function(e,t,n,a,o,i){var r=!1;return t&&(""!==o?e>t&&a===o&&(r=!0):e>t&&(r=!0)),n&&(""!==i?e<n&&a===i&&(r=!0):e<n&&(r=!0)),r},k=function(e,t){var n=t.x-e.x,a=t.y-e.y;return Math.sqrt(n*n+a*a)},M=function(e,t){var n=2*Math.atan2(t.y-e.y-k(e,t),t.x-e.x);return Math.abs(180*n/Math.PI)},y=function(e){return{radius:(e-32)/2-4}},E=t.forwardRef((function(e,n){var a=m(e,[]),o=r(h),i=o.activeHour,c=o.format,l=o.period,s=o.setPeriod,d=o.mode,p=o.setMode,b=o.activeMinute,g=o.setHandAnimation,k=o.inline,M=o.setActiveHour,y=o.setActiveMinute,E=o.maxHour,N=o.maxMinute,w=o.minHour,C=o.minMinute,I=o.maxPeriod,P=o.minPeriod,A=o.setInputValue,L=o.setIsPickerOpened,T=o.increment,H=o.submitLabel,R=function(e){p(e),g(!0)},O=function(e){var t="12h"===c?12:24;M(e?i===t?1:i+1:1===i?t:i-1)},j=function(e){var t=T?55:59,n=T?5:1;y(e?b>=t?0:b+n:b<=0?t:b-n)};return k?t.createElement("div",u({className:"timepicker-head d-flex flex-row align-items-center justify-content-center timepicker-head-inline",style:{paddingRight:"0px"},ref:n},a),t.createElement("div",{className:"timepicker-head-content d-flex w-100 justify-content-evenly align-items-center"},t.createElement("div",{className:"timepicker-current-wrapper"},t.createElement("span",{className:"position-relative h-100 timepicker-inline-hour-icons"},t.createElement(v,{fas:!0,icon:"chevron-up",className:"position-absolute text-white timepicker-icon-up timepicker-icon-inline-hour",onClick:function(){return O(!0)}}),t.createElement(f,{type:"button",color:"none",onClick:function(){return R("hours")},className:"timepicker-current timepicker-current-inline timepicker-hour ".concat("hours"===d&&"active"),tabIndex:0,style:{pointerEvents:"hours"===d?"none":""}},24===i?"00":i<10?"0".concat(i):i),t.createElement(v,{fas:!0,icon:"chevron-down",className:"position-absolute text-white timepicker-icon-down timepicker-icon-inline-hour",onClick:function(){return O(!1)}})),t.createElement(f,{color:"none",className:"timepicker-dot timepicker-current-inline",disabled:!0},":"),t.createElement("span",{className:"position-relative h-100 timepicker-inline-minutes-icons"},t.createElement(v,{fas:!0,icon:"chevron-up",className:"position-absolute text-white timepicker-icon-up timepicker-icon-inline-minute",onClick:function(){return j(!0)}}),t.createElement(f,{onClick:function(){return R("minutes")},type:"button",color:"none",className:"timepicker-current timepicker-current-inline timepicker-minute ".concat("minutes"===d&&"active"),tabIndex:0,style:{pointerEvents:"minutes"===d?"none":""}},b<10?"0".concat(b):b),t.createElement(v,{fas:!0,icon:"chevron-down",className:"position-absolute text-white timepicker-icon-down timepicker-icon-inline-minute",onClick:function(){return j(!1)}}))),t.createElement("div",{className:"d-flex justify-content-center timepicker-mode-wrapper"},"12h"===c&&t.createElement(t.Fragment,null,t.createElement(f,{onClick:function(){return s("AM")},type:"button",color:"none",className:"timepicker-hour-mode timepicker-am me-2 ms-4 ".concat("AM"===l&&"active"),tabIndex:0},"AM"),t.createElement(f,{onClick:function(){return s("PM")},type:"button",color:"none",className:"timepicker-hour-mode timepicker-pm ".concat("PM"===l&&"active"),tabIndex:0},"PM")),t.createElement(f,{type:"button",color:"none",className:"timepicker-button timepicker-submit timepicker-submit-inline py-1 px-2 mb-0",tabIndex:0,onClick:function(){if(!x(i,E,w,l,I,P)&&!x(b,N,C,l,I,P)){L(!1);var e=24===i?"00":i<10?"0".concat(i):i,t=b<10?"0".concat(b):b;A("".concat(e,":").concat(t," ").concat(l).trim())}}},H)))):t.createElement("div",u({className:"timepicker-head d-flex flex-row align-items-center justify-content-center",style:{paddingRight:"0px"},ref:n},a),t.createElement("div",{className:"timepicker-head-content d-flex w-100 justify-content-evenly",style:{paddingRight:"24h"===c?"50px":""}},t.createElement("div",{className:"timepicker-current-wrapper"},t.createElement("span",{className:"position-relative h-100"},t.createElement(f,{type:"button",color:"none",onClick:function(){return R("hours")},className:"timepicker-current timepicker-hour ".concat("hours"===d&&"active"),tabIndex:0,style:{pointerEvents:"hours"===d?"none":""}},24===i?"00":i<10?"0".concat(i):i),t.createElement(f,{color:"none",className:"timepicker-dot",disabled:!0},":")),t.createElement("span",{className:"position-relative h-100"},t.createElement(f,{onClick:function(){return R("minutes")},type:"button",color:"none",className:"timepicker-current timepicker-minute ".concat("minutes"===d&&"active"),tabIndex:0,style:{pointerEvents:"minutes"===d?"none":""}},b<10?"0".concat(b):b))),"12h"===c&&t.createElement("div",{className:"d-flex flex-column justify-content-center timepicker-mode-wrapper"},t.createElement(f,{onClick:function(){return s("AM")},type:"button",color:"none",className:"timepicker-hour-mode timepicker-am ".concat("AM"===l&&"active"),tabIndex:0},"AM"),t.createElement(f,{onClick:function(){return s("PM")},type:"button",color:"none",className:"timepicker-hour-mode timepicker-pm ".concat("PM"===l&&"active"),tabIndex:0},"PM"))))})),N={hours:[{value:1,left:"169px",bottom:"209.263px",angle:30,id:"hour-1-".concat(Math.floor(1001*Math.random()))},{value:2,left:"209.263px",bottom:"169px",angle:60,id:"hour-2-".concat(Math.floor(1001*Math.random()))},{value:3,left:"224px",bottom:"114px",angle:90,id:"hour-3-".concat(Math.floor(1001*Math.random()))},{value:4,left:"209.263px",bottom:"59px",angle:120,id:"hour-4-".concat(Math.floor(1001*Math.random()))},{value:5,left:"169px",bottom:"18.7372px",angle:150,id:"hour-5-".concat(Math.floor(1001*Math.random()))},{value:6,left:"114px",bottom:"4px",angle:180,id:"hour-6-".concat(Math.floor(1001*Math.random()))},{value:7,left:"59px",bottom:"18.7372px",angle:210,id:"hour-7-".concat(Math.floor(1001*Math.random()))},{value:8,left:"18.7372px",bottom:"59px",angle:240,id:"hour-8-".concat(Math.floor(1001*Math.random()))},{value:9,left:"4px",bottom:"114px",angle:270,id:"hour-9-".concat(Math.floor(1001*Math.random()))},{value:10,left:"18.7372px",bottom:"169px",angle:300,id:"hour-10-".concat(Math.floor(1001*Math.random()))},{value:11,left:"59px",bottom:"209.263px",angle:330,id:"hour-11-".concat(Math.floor(1001*Math.random()))},{value:12,left:"114px",bottom:"224px",angle:360,id:"hour-12-".concat(Math.floor(1001*Math.random()))},{value:13,left:"94px",bottom:"115.962px",angle:30,id:"hour-13-".concat(Math.floor(1001*Math.random()))},{value:14,left:"115.962px",bottom:"94px",angle:60,id:"hour-14-".concat(Math.floor(1001*Math.random()))},{value:15,left:"124px",bottom:"64px",angle:90,id:"hour-15-".concat(Math.floor(1001*Math.random()))},{value:16,left:"115.962px",bottom:"34px",angle:120,id:"hour-16-".concat(Math.floor(1001*Math.random()))},{value:17,left:"94px",bottom:"12.0385px",angle:150,id:"hour-17-".concat(Math.floor(1001*Math.random()))},{value:18,left:"64px",bottom:"4px",angle:180,id:"hour-18-".concat(Math.floor(1001*Math.random()))},{value:19,left:"34px",bottom:"12.0385px",angle:210,id:"hour-19-".concat(Math.floor(1001*Math.random()))},{value:20,left:"12.0385px",bottom:"34px",angle:240,id:"hour-20-".concat(Math.floor(1001*Math.random()))},{value:21,left:"4px",bottom:"64px",angle:270,id:"hour-21-".concat(Math.floor(1001*Math.random()))},{value:22,left:"12.0385px",bottom:"94px",angle:300,id:"hour-22-".concat(Math.floor(1001*Math.random()))},{value:23,left:"34px",bottom:"115.962px",angle:330,id:"hour-23-".concat(Math.floor(1001*Math.random()))},{value:24,left:"64px",bottom:"124px",angle:360,id:"hour-0-".concat(Math.floor(1001*Math.random()))}],minutes:[{value:0,left:"114px",bottom:"224px",angle:360,id:"minute-0-".concat(Math.floor(1001*Math.random()))},{value:5,left:"169px",bottom:"209.263px",angle:30,id:"minute-5-".concat(Math.floor(1001*Math.random()))},{value:10,left:"209.263px",bottom:"169px",angle:60,id:"minute-10-".concat(Math.floor(1001*Math.random()))},{value:15,left:"224px",bottom:"114px",angle:90,id:"minute-15-".concat(Math.floor(1001*Math.random()))},{value:20,left:"209.263px",bottom:"59px",angle:120,id:"minute-20-".concat(Math.floor(1001*Math.random()))},{value:25,left:"169px",bottom:"18.7372px",angle:150,id:"minute-25-".concat(Math.floor(1001*Math.random()))},{value:30,left:"114px",bottom:"4px",angle:180,id:"minute-30-".concat(Math.floor(1001*Math.random()))},{value:35,left:"59px",bottom:"18.7372px",angle:210,id:"minute-35-".concat(Math.floor(1001*Math.random()))},{value:40,left:"18.7372px",bottom:"59px",angle:240,id:"minute-40-".concat(Math.floor(1001*Math.random()))},{value:45,left:"4px",bottom:"114px",angle:270,id:"minute-45-".concat(Math.floor(1001*Math.random()))},{value:50,left:"18.7372px",bottom:"169px",angle:300,id:"minute-50-".concat(Math.floor(1001*Math.random()))},{value:55,left:"59px",bottom:"209.263px",angle:330,id:"minute-55-".concat(Math.floor(1001*Math.random()))}]},w=t.forwardRef((function(e,c){var l=m(e,[]),s=n(null),d=n(null),p=a(!1),f=p[0],v=p[1],b=a(0),g=b[0],E=b[1],w=a(0),C=w[0],I=w[1],P=r(h),A=P.setActiveHour,L=P.format,T=P.activeHour,H=P.minHour,R=P.maxHour,O=P.minPeriod,j=P.maxPeriod,V=P.period,D=P.mode,S=P.setMode,z=P.activeMinute,W=P.setActiveMinute,B=P.setHandAnimation,F=P.handAnimation,U=P.maxMinute,Y=P.minMinute,X=P.hourAngle,q=P.setHourAngle,$=P.minuteAngle,Z=P.setMinuteAngle,G=P.increment,J="24h"===L?N.hours:N.hours.filter((function(e){return e.value<13&&0!==e.value})),K=N.minutes,Q=a("calc(40% + 1px)"),_=Q[0],ee=Q[1],te=i(M,[]),ne=i((function(e){var t,n=null===(t=s.current)||void 0===t?void 0:t.getBoundingClientRect(),a=n.width,o=n.top,i=n.left,r="touches"in e?e.touches[0]:e,c={x:a/2,y:-a/2},l={x:r.clientX-i,y:o-r.clientY},u=Math.round(te(c,l)+360)%360;if("hours"===D){var m=30*Math.round(u/30),d=m/30;if("24h"===L){var p=y(g).radius,f=y(C).radius;k(c,l)<(p+f)/2-16&&(d+=12)}x(d,R,H,V,j,O)||(A(d),q(m))}else if(0===u)x(0,U,Y,V,j,O)||(W(0),Z(360));else{var v=G?30:6;d=v*Math.round(u/v);x(d/6,U,Y,V,j,O)||(W(d/6),Z(d))}}),[te,U,Y,j,O,D,V,W,R,H,A,C,g,L,q,Z,G]);return o((function(){s.current&&E(s.current.offsetWidth),d.current&&I(d.current.offsetWidth)}),[]),o((function(){var e,t;return f&&(e=document,t=ne,"mouseup mousemove mouseleave mouseover touchstart touchmove touchend".split(" ").forEach((function(n){e.addEventListener(n,t)}))),function(){!function(e,t,n){t.split(" ").forEach((function(t){e.removeEventListener(t,n)}))}(document,"mouseup mousemove mouseleave mouseover touchstart touchmove touchend",ne)}}),[f,ne]),o((function(){var e=J.find((function(e){return e.value===T}));void 0!==e&&(e.value>12||24===e.value?ee("21.5%"):ee("calc(40% + 1px)"))}),[J,T]),t.createElement("div",u({className:"timepicker-clock-wrapper d-flex justify-content-center flex-column align-items-center",ref:c},l),t.createElement("div",{onMouseDown:function(e){return function(e){e.preventDefault(),v(!0)}(e)},onMouseUp:function(e){return function(e){e.preventDefault(),v(!1),"hours"===D&&(S("minutes"),B(!0))}(e)},ref:s,className:"timepicker-clock timepicker-clock-animation"},t.createElement("span",{className:"timepicker-middle-dot position-absolute"}),t.createElement("div",{className:"timepicker-hand-pointer position-absolute ".concat(F&&"timepicker-transform"),style:{transform:"rotateZ(".concat("hours"===D?X:$,"deg)"),height:"hours"===D?_:"calc(40% + 1px)"}},t.createElement("div",{className:"timepicker-circle position-absolute",style:{backgroundColor:"rgb(25, 118, 210)"}})),"hours"===D&&"24h"===L&&t.createElement("div",{ref:d,className:"timepicker-clock-inner"},J.map((function(e){if(e.value>12||0===e.value)return t.createElement("span",{id:e.id,key:e.id,className:"timepicker-time-tips-inner ".concat(x(e.value,R,H,V,j,O)&&"disabled"," ").concat(e.value===T&&"active"),style:{left:e.left,bottom:e.bottom}},t.createElement("span",{className:"timepicker-tips-inner-element"},24===e.value?"00":e.value))}))),"hours"===D&&J.map((function(e){return"24h"!==L||e.value<13&&0!==e.value?t.createElement("span",{id:e.id,key:e.id,className:"timepicker-time-tips-hours ".concat(x(e.value,R,H,V,j,O)&&"disabled"," ").concat(e.value===T&&"active"),style:{left:e.left,bottom:e.bottom}},t.createElement("span",{className:"timepicker-tips-element"},e.value)):void 0})),"minutes"===D&&K.map((function(e){return t.createElement("span",{id:e.id,key:e.id,className:"timepicker-time-tips-minutes ".concat(x(e.value,U,Y,V,j,O)&&"disabled"," ").concat(z===e.value&&"active"),style:{left:e.left,bottom:e.bottom}},t.createElement("span",{className:"timepicker-tips-element"},e.value<10?"0".concat(e.value):e.value))}))))})),C=t.forwardRef((function(e,n){var a=m(e,[]),o=r(h),i=o.setIsPickerOpened,c=o.setInputValue,l=o.cancelLabel,s=o.submitLabel,d=o.clearLabel,p=o.activeHour,v=o.period,g=o.activeMinute,k=o.maxHour,M=o.maxMinute,y=o.minHour,E=o.minMinute,N=o.maxPeriod,w=o.minPeriod,C=o.defaultValue,I=o.setActiveHour,P=o.setActiveMinute,A=o.setPeriod,L=o.format,T=o.setHourAngle,H=o.setMinuteAngle;return t.createElement("div",u({className:"timepicker-footer",ref:n},a),t.createElement("div",{className:"w-100 d-flex justify-content-between"},t.createElement(f,{onClick:function(){if(""!==C&&void 0!==C){var e=b(C),t=e.hour,n=e.minute,a=e.defaultPeriod;"24h"===L?(I(0===t?24:t),T(0===t?360:t>12?30*(t-12):30*t)):(I(t),T(30*t),A(a)),P(n),H(6*n),c(C)}else I(12),T(360),P(0),H(360),c(""),A("24h"===L?"":"AM")},type:"button",color:"none",className:"timepicker-button timepicker-clear",tabIndex:0},d),t.createElement(f,{onClick:function(){return i(!1)},type:"button",color:"none",className:"timepicker-button timepicker-cancel",tabIndex:0},l),t.createElement(f,{onClick:function(){if(!x(p,k,y,v,N,w)&&!x(g,M,E,v,N,w)){i(!1);var e=24===p?"00":p<10?"0".concat(p):p,t=g<10?"0".concat(g):g;c("".concat(e,":").concat(t," ").concat(v).trim())}},type:"button",color:"none",className:"timepicker-button timepicker-submit",tabIndex:0},s)))})),I=t.forwardRef((function(r,d){var p=r.className,f=r.defaultValue,v=r.minHour,x=r.maxHour,k=r.maxTime,M=r.minTime,y=r.noIcon,N=r.showRef,I=r.inputID,P=r.justInput,A=r.inputClasses,L=r.inputLabel,T=r.invalidLabel,H=r.clearLabel,R=r.submitLabel,O=r.cancelLabel,j=r.format,V=r.timePickerClasses,D=r.customIcon,S=r.customIconSize,z=r.btnIcon,W=r.inline,B=r.increment,F=r.inlinePickerTag,U=r.inputWrapperTag,Y=r.getValue,X=r.customValue,q=m(r,["className","defaultValue","minHour","maxHour","maxTime","minTime","noIcon","showRef","inputID","justInput","inputClasses","inputLabel","invalidLabel","clearLabel","submitLabel","cancelLabel","format","timePickerClasses","customIcon","customIconSize","btnIcon","inline","increment","inlinePickerTag","inputWrapperTag","getValue","customValue"]),$=a(!1),Z=$[0],G=$[1],J=a(!1),K=J[0],Q=J[1],_=a(""),ee=_[0],te=_[1],ne=a(!1),ae=ne[0],oe=ne[1],ie=a(12),re=ie[0],ce=ie[1],le=a(0),ue=le[0],me=le[1],se=a("24h"===j?"":"AM"),de=se[0],pe=se[1],fe=a(x||24),ve=fe[0],he=fe[1],be=a(v||1),ge=be[0],xe=be[1],ke=a(59),Me=ke[0],ye=ke[1],Ee=a(0),Ne=Ee[0],we=Ee[1],Ce=a(""),Ie=Ce[0],Pe=Ce[1],Ae=a(""),Le=Ae[0],Te=Ae[1],He=a("hours"),Re=He[0],Oe=He[1],je=a(!1),Ve=je[0],De=je[1],Se=a(360),ze=Se[0],We=Se[1],Be=a(360),Fe=Be[0],Ue=Be[1],Ye=a(null),Xe=Ye[0],qe=Ye[1],$e=a(null),Ze=$e[0],Ge=$e[1],Je=a(0),Ke=Je[0],Qe=Je[1],_e={input:L||"Select a time",invalid:T||"Invalid Time Format",clear:H||"Clear",submit:R||"Ok",cancel:O||"Cancel"},et=e("timepicker",p),tt=e("timepicker-modal",V),nt=I||"timepicker-input-".concat(Math.floor(10001*Math.random())),at=e("timepicker-wrapper","h-100","d-flex","align-items-center","justify-content-center","flex-column",W?"timepicker-wrapper-inline":"position-fixed",Z&&"animation","fade",K&&Z&&"show"),ot=l(Xe,Ze,{placement:"bottom-start"}),it=ot.styles,rt=ot.attributes,ct=e("timepicker-input",ae&&"is-invalid",A),lt=n(null),ut=n(null),mt=n(null),st=i((function(){G(!0)}),[]),dt=i((function(e){var t,n,a,o;W||e.target!==ut.current||G(!1),!W||e.target===ut.current||(null===(t=ut.current)||void 0===t?void 0:t.contains(e.target))||e.target===(null===(n=mt.current)||void 0===n?void 0:n.parentNode)||(null===(o=null===(a=mt.current)||void 0===a?void 0:a.parentNode)||void 0===o?void 0:o.contains(e.target))||G(!1)}),[ut,W,mt]),pt=i((function(e){var t,n=e.key;(e.preventDefault(),"Escape"===n&&G(!1),"ArrowUp"===n&&"hours"===Re)&&(ce(i=re===(o="12h"===j?12:24)?1:re+1),We(30*i));if("ArrowUp"===n&&"minutes"===Re){var a=B?5:1;me(i=ue>=(o=B?55:59)?0:ue+a),Ue(6*i)}if("ArrowDown"===n&&"hours"===Re){var o="12h"===j?12:24;ce(i=1===re?o:re-1),We(30*i)}if("ArrowDown"===n&&"minutes"===Re){var i;o=B?55:59,a=B?5:1;me(i=ue<=0?o:ue-a),Ue(6*i)}if("Tab"===n){var r=null===(t=ut.current)||void 0===t?void 0:t.querySelectorAll('[tabindex="0"]');r&&r[Ke]&&(r[Ke].focus(),Ke===r.length-1?Qe(0):Qe(Ke+1))}"Enter"===n&&document.activeElement&&document.activeElement.click()}),[re,j,Re,ue,B,Ke]);return o((function(){Y&&Y(ee)}),[ee,Y]),o((function(){return Z&&(document.addEventListener("click",dt),document.addEventListener("keydown",pt)),function(){document.removeEventListener("click",dt),document.removeEventListener("keydown",pt)}}),[Z,dt,pt]),o((function(){if(k){var e=b(k),t=e.hour,n=e.minute,a=e.defaultPeriod;he(t),ye(n),void 0!==a&&Te(a)}if(M){var o=b(M);t=o.hour,n=o.minute,a=o.defaultPeriod;xe(t),we(n),void 0!==a&&Pe(a)}}),[k,M]),o((function(){X&&te(X)}),[X]),o((function(){f&&g(f,j)&&te(f)}),[f,j]),o((function(){if(g(ee,j)||""===ee){if(oe(!1),""!==ee){var e=b(ee),t=e.hour,n=e.minute,a=e.defaultPeriod;"24h"===j?(ce(0===t?24:t),We(0===t?360:t>12?30*(t-12):30*t)):(ce(t),We(30*t),pe(a)),me(n),Ue(6*n)}}else oe(!0)}),[ee,j]),o((function(){var e;if(!P&&!y){var t=null===(e=lt.current)||void 0===e?void 0:e.parentNode,n=function(e,t,n,a){var o=document.createElement("button"),i=document.createElement("div");i.className="invalid-feedback",i.style.bottom="-23px",i.textContent=e,o.id="timepicker-toggle-".concat(Math.floor(10001*Math.random())),o.tabIndex=0,o.type="button",o.style.pointerEvents="auto";var r=document.createElement("i");r.className="".concat(t," fa-").concat(n," timepicker-icon"),a&&o.appendChild(r);var c=a?o:r;return c.classList.add("timepicker-toggle-button"),{div:i,selector:c}}(_e.invalid,D,S,z),a=n.div,o=n.selector;return null==t||t.insertBefore(a,lt.current),null==t||t.insertBefore(o,lt.current),o.addEventListener("click",st),function(){o.removeEventListener("click",st),null==t||t.removeChild(o)}}}),[st,_e.invalid,z,D,S,P,y]),o((function(){if(N){var e=N.current;return e.addEventListener("click",st),function(){e.removeEventListener("click",st)}}}),[N,st]),o((function(){var e,t;return Z?(Oe("hours"),Q(!0),Qe(0),e=setTimeout((function(){G(!0)}),4)):(G(!1),t=setTimeout((function(){Q(!1)}),300)),function(){clearTimeout(e),clearTimeout(t)}}),[Z]),o((function(){var e;return Ve&&(e=setTimeout((function(){De(!1)}),400)),function(){clearTimeout(e)}}),[Ve]),t.createElement(t.Fragment,null,t.createElement(h.Provider,{value:{isPickerOpened:Z,setIsPickerOpened:G,setInputValue:te,submitLabel:_e.submit,clearLabel:_e.clear,cancelLabel:_e.cancel,activeHour:re,activeMinute:ue,setActiveHour:ce,setActiveMinute:me,format:j,period:de,setPeriod:pe,defaultValue:f,maxHour:ve,minHour:ge,maxPeriod:Le,minPeriod:Ie,mode:Re,setMode:Oe,setHandAnimation:De,handAnimation:Ve,minMinute:Ne,maxMinute:Me,hourAngle:ze,setHourAngle:We,minuteAngle:Fe,setMinuteAngle:Ue,inline:W,increment:B}},t.createElement(U,u({className:et,ref:W?qe:d},q),t.createElement(s,{onFocus:function(e){return function(e){P&&(e.target.blur(),G(!0))}(e)},inputRef:mt,labelRef:lt,className:ct,label:_e.input,id:nt,value:ee,onChange:function(e){return function(e){te(e.target.value)}(e)},wrapperClass:"timepicker"})),!W&&K&&c.createPortal(t.createElement("div",{className:tt,role:"dialog",tabIndex:-1},t.createElement("div",{ref:ut,className:at},t.createElement("div",{className:"d-flex align-items-center justify-content-center flex-column shadow timepicker-container"},t.createElement("div",{className:"d-flex flex-column timepicker-elements justify-content-around"},t.createElement(E,null),t.createElement(w,null)),t.createElement(C,null)))),document.body),W&&K&&c.createPortal(t.createElement(F,u({className:tt,style:it.popper},rt.popper,{role:"dialog",ref:Ge,tabIndex:-1}),t.createElement("div",{ref:ut,className:at},t.createElement("div",{className:"d-flex align-items-center justify-content-center flex-column shadow timepicker-container",style:{overflowY:"inherit"}},t.createElement("div",{className:"d-flex flex-column timepicker-elements justify-content-around timepicker-elements-inline"},t.createElement(E,null))))),document.body)))}));I.defaultProps={format:"12h",customIcon:"far fa-clock",customIconSize:"sm",btnIcon:!0,justInput:!1,noIcon:!1,inline:!1,inlinePickerTag:"div",inputWrapperTag:"div",increment:!1};export{I as default};
