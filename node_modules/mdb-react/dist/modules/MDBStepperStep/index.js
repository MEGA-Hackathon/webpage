"use strict";var e=require("clsx"),t=require("react");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=r(e),o=r(t),n=function(){return n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};var i=o.default.createContext({activeItem:1,setActiveItem:null,stepperHeight:0,setStepperHeight:null,prevState:1,setPrevState:null,steps:[],linear:!1,visited:[],setVisited:null,noEditable:!1,vertical:!1,mobile:!1,verticalBreakpoint:!1}),l=o.default.createContext({itemId:0}),s=function(e){var r=e.className,s=e.itemId,p=e.tag,u=e.children,c=e.stepperRef,f=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]])}return r}(e,["className","itemId","tag","children","stepperRef"]),d=t.useContext(i),m=d.activeItem,v=d.setStepperHeight,g=d.prevState,y=d.linear,b=d.visited,S=d.noEditable,h=d.mobile,O=t.useState(!1),E=O[0],w=O[1],I=t.useState(!1),j=I[0],x=I[1],C=t.useRef(null),P=c||C,q=a.default("stepper-step",m===s&&"stepper-active",j&&"was-validated",E&&(S?"stepper-disabled":"stepper-completed"),r);t.useEffect((function(){b.includes(s)&&y&&x(!0)}),[s,b,y]);var F=t.useCallback((function(){var e,t=P.current,r=t.querySelector(".stepper-content"),a=t.parentNode.querySelector(".stepper-mobile-footer"),o=r&&getComputedStyle(r),n=a?getComputedStyle(a):"",i=(e=h?t.parentNode.querySelector(".stepper-mobile-head"):t.querySelector(".stepper-head"))&&getComputedStyle(e);if(r&&o){var l=r.offsetHeight+parseFloat(o.marginTop)+parseFloat(o.marginBottom),s=e.offsetHeight+parseFloat(i.marginTop)+parseFloat(i.marginBottom),p=n?a.offsetHeight+parseFloat(n.marginTop)+parseFloat(n.marginBottom):0;v(s+l+p)}}),[v,P,h]);return t.useEffect((function(){m===s&&(setTimeout((function(){F()}),20),j&&setTimeout((function(){F()}),250))}),[s,m,F,j]),t.useEffect((function(){g===s&&w(!0)}),[g,s]),t.useEffect((function(){return window.addEventListener("resize",F),function(){window.removeEventListener("resize",F)}}),[F]),o.default.createElement(l.Provider,{value:{itemId:s}},o.default.createElement(p,n({className:q,ref:P},f),u))};s.defaultProps={tag:"li"},module.exports=s;
